using ILGPU;
using System.Numerics;
using System.Runtime.CompilerServices;

namespace GpuTest.Utils
{
    public static class Median49
    {
        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static T min<T>(T a, T b) where T : struct, INumber<T> => a < b ? a : b;

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static T max<T>(T a, T b) where T : struct, INumber<T> => a > b ? a : b;

        [MethodImpl(MethodImplOptions.NoInlining)]
        public static T median<T>(ArrayView<T> array)
           where T : unmanaged, INumber<T>
        {
            T tmp = step1(array);
            tmp = step2(tmp, array);
            return step3(tmp, array);
        }

        [MethodImpl(MethodImplOptions.NoInlining)]
        static T step1<T>(ArrayView<T> array)
             where T : unmanaged, INumber<T>
        {
            T tmp = min(array[0], array[32]);
            array[32] = max(array[0], array[32]);
            array[0] = tmp;
            tmp = min(array[1], array[33]);
            array[33] = max(array[1], array[33]);
            array[1] = tmp;
            tmp = min(array[2], array[34]);
            array[34] = max(array[2], array[34]);
            array[2] = tmp;
            tmp = min(array[3], array[35]);
            array[35] = max(array[3], array[35]);
            array[3] = tmp;
            tmp = min(array[4], array[36]);
            array[36] = max(array[4], array[36]);
            array[4] = tmp;
            tmp = min(array[5], array[37]);
            array[37] = max(array[5], array[37]);
            array[5] = tmp;
            tmp = min(array[6], array[38]);
            array[38] = max(array[6], array[38]);
            array[6] = tmp;
            tmp = min(array[7], array[39]);
            array[39] = max(array[7], array[39]);
            array[7] = tmp;
            tmp = min(array[8], array[40]);
            array[40] = max(array[8], array[40]);
            array[8] = tmp;
            tmp = min(array[9], array[41]);
            array[41] = max(array[9], array[41]);
            array[9] = tmp;
            tmp = min(array[10], array[42]);
            array[42] = max(array[10], array[42]);
            array[10] = tmp;
            tmp = min(array[11], array[43]);
            array[43] = max(array[11], array[43]);
            array[11] = tmp;
            tmp = min(array[12], array[44]);
            array[44] = max(array[12], array[44]);
            array[12] = tmp;
            tmp = min(array[13], array[45]);
            array[45] = max(array[13], array[45]);
            array[13] = tmp;
            tmp = min(array[14], array[46]);
            array[46] = max(array[14], array[46]);
            array[14] = tmp;
            tmp = min(array[15], array[47]);
            array[47] = max(array[15], array[47]);
            array[15] = tmp;
            tmp = min(array[16], array[48]);
            array[48] = max(array[16], array[48]);
            array[16] = tmp;
            tmp = min(array[0], array[16]);
            array[16] = max(array[0], array[16]);
            array[0] = tmp;
            tmp = min(array[1], array[17]);
            array[17] = max(array[1], array[17]);
            array[1] = tmp;
            tmp = min(array[2], array[18]);
            array[18] = max(array[2], array[18]);
            array[2] = tmp;
            tmp = min(array[3], array[19]);
            array[19] = max(array[3], array[19]);
            array[3] = tmp;
            tmp = min(array[4], array[20]);
            array[20] = max(array[4], array[20]);
            array[4] = tmp;
            tmp = min(array[5], array[21]);
            array[21] = max(array[5], array[21]);
            array[5] = tmp;
            tmp = min(array[6], array[22]);
            array[22] = max(array[6], array[22]);
            array[6] = tmp;
            tmp = min(array[7], array[23]);
            array[23] = max(array[7], array[23]);
            array[7] = tmp;
            tmp = min(array[8], array[24]);
            array[24] = max(array[8], array[24]);
            array[8] = tmp;
            tmp = min(array[9], array[25]);
            array[25] = max(array[9], array[25]);
            array[9] = tmp;
            tmp = min(array[10], array[26]);
            array[26] = max(array[10], array[26]);
            array[10] = tmp;
            tmp = min(array[11], array[27]);
            array[27] = max(array[11], array[27]);
            array[11] = tmp;
            tmp = min(array[12], array[28]);
            array[28] = max(array[12], array[28]);
            array[12] = tmp;
            tmp = min(array[13], array[29]);
            array[29] = max(array[13], array[29]);
            array[13] = tmp;
            tmp = min(array[14], array[30]);
            array[30] = max(array[14], array[30]);
            array[14] = tmp;
            tmp = min(array[15], array[31]);
            array[31] = max(array[15], array[31]);
            array[15] = tmp;
            tmp = min(array[32], array[48]);
            array[48] = max(array[32], array[48]);
            array[32] = tmp;
            tmp = min(array[16], array[32]);
            array[32] = max(array[16], array[32]);
            array[16] = tmp;
            tmp = min(array[17], array[33]);
            array[33] = max(array[17], array[33]);
            array[17] = tmp;
            tmp = min(array[18], array[34]);
            array[34] = max(array[18], array[34]);
            array[18] = tmp;
            tmp = min(array[19], array[35]);
            array[35] = max(array[19], array[35]);
            array[19] = tmp;
            tmp = min(array[20], array[36]);
            array[36] = max(array[20], array[36]);
            array[20] = tmp;
            tmp = min(array[21], array[37]);
            array[37] = max(array[21], array[37]);
            array[21] = tmp;
            tmp = min(array[22], array[38]);
            array[38] = max(array[22], array[38]);
            array[22] = tmp;
            tmp = min(array[23], array[39]);
            array[39] = max(array[23], array[39]);
            array[23] = tmp;
            tmp = min(array[24], array[40]);
            array[40] = max(array[24], array[40]);
            array[24] = tmp;
            tmp = min(array[25], array[41]);
            array[41] = max(array[25], array[41]);
            array[25] = tmp;
            tmp = min(array[26], array[42]);
            array[42] = max(array[26], array[42]);
            array[26] = tmp;
            tmp = min(array[27], array[43]);
            array[43] = max(array[27], array[43]);
            array[27] = tmp;
            tmp = min(array[28], array[44]);
            array[44] = max(array[28], array[44]);
            array[28] = tmp;
            tmp = min(array[29], array[45]);
            array[45] = max(array[29], array[45]);
            array[29] = tmp;
            tmp = min(array[30], array[46]);
            array[46] = max(array[30], array[46]);
            array[30] = tmp;
            tmp = min(array[31], array[47]);
            array[47] = max(array[31], array[47]);
            array[31] = tmp;
            tmp = min(array[0], array[8]);
            array[8] = max(array[0], array[8]);
            array[0] = tmp;
            tmp = min(array[1], array[9]);
            array[9] = max(array[1], array[9]);
            array[1] = tmp;
            tmp = min(array[2], array[10]);
            array[10] = max(array[2], array[10]);
            array[2] = tmp;
            tmp = min(array[3], array[11]);
            array[11] = max(array[3], array[11]);
            array[3] = tmp;
            tmp = min(array[4], array[12]);
            array[12] = max(array[4], array[12]);
            array[4] = tmp;
            tmp = min(array[5], array[13]);
            array[13] = max(array[5], array[13]);
            array[5] = tmp;
            tmp = min(array[6], array[14]);
            array[14] = max(array[6], array[14]);
            array[6] = tmp;
            tmp = min(array[7], array[15]);
            array[15] = max(array[7], array[15]);
            array[7] = tmp;
            tmp = min(array[16], array[24]);
            array[24] = max(array[16], array[24]);
            array[16] = tmp;
            tmp = min(array[17], array[25]);
            array[25] = max(array[17], array[25]);
            array[17] = tmp;
            tmp = min(array[18], array[26]);
            array[26] = max(array[18], array[26]);
            array[18] = tmp;
            tmp = min(array[19], array[27]);
            array[27] = max(array[19], array[27]);
            array[19] = tmp;
            tmp = min(array[20], array[28]);
            array[28] = max(array[20], array[28]);
            array[20] = tmp;
            tmp = min(array[21], array[29]);
            array[29] = max(array[21], array[29]);
            array[21] = tmp;
            tmp = min(array[22], array[30]);
            array[30] = max(array[22], array[30]);
            array[22] = tmp;
            tmp = min(array[23], array[31]);
            array[31] = max(array[23], array[31]);
            array[23] = tmp;
            tmp = min(array[32], array[40]);
            array[40] = max(array[32], array[40]);
            array[32] = tmp;
            tmp = min(array[33], array[41]);
            array[41] = max(array[33], array[41]);
            array[33] = tmp;
            tmp = min(array[34], array[42]);
            array[42] = max(array[34], array[42]);
            array[34] = tmp;
            tmp = min(array[35], array[43]);
            array[43] = max(array[35], array[43]);
            array[35] = tmp;
            tmp = min(array[36], array[44]);
            array[44] = max(array[36], array[44]);
            array[36] = tmp;
            tmp = min(array[37], array[45]);
            array[45] = max(array[37], array[45]);
            array[37] = tmp;
            tmp = min(array[38], array[46]);
            array[46] = max(array[38], array[46]);
            array[38] = tmp;
            tmp = min(array[39], array[47]);
            array[47] = max(array[39], array[47]);
            array[39] = tmp;
            tmp = min(array[8], array[32]);
            array[32] = max(array[8], array[32]);
            array[8] = tmp;
            tmp = min(array[9], array[33]);
            array[33] = max(array[9], array[33]);
            array[9] = tmp;
            tmp = min(array[10], array[34]);
            array[34] = max(array[10], array[34]);
            array[10] = tmp;
            tmp = min(array[11], array[35]);
            array[35] = max(array[11], array[35]);
            array[11] = tmp;
            tmp = min(array[12], array[36]);
            array[36] = max(array[12], array[36]);
            array[12] = tmp;
            tmp = min(array[13], array[37]);
            array[37] = max(array[13], array[37]);
            array[13] = tmp;
            tmp = min(array[14], array[38]);
            array[38] = max(array[14], array[38]);
            array[14] = tmp;
            tmp = min(array[15], array[39]);
            array[39] = max(array[15], array[39]);
            array[15] = tmp;
            return min(array[24], array[48]);
        }

        [MethodImpl(MethodImplOptions.NoInlining)]
        static T step2<T>(T tmp, ArrayView<T> array)
             where T : unmanaged, INumber<T>
        {
            array[48] = max(array[24], array[48]);
            array[24] = tmp;
            tmp = min(array[8], array[16]);
            array[16] = max(array[8], array[16]);
            array[8] = tmp;
            tmp = min(array[9], array[17]);
            array[17] = max(array[9], array[17]);
            array[9] = tmp;
            tmp = min(array[10], array[18]);
            array[18] = max(array[10], array[18]);
            array[10] = tmp;
            tmp = min(array[11], array[19]);
            array[19] = max(array[11], array[19]);
            array[11] = tmp;
            tmp = min(array[12], array[20]);
            array[20] = max(array[12], array[20]);
            array[12] = tmp;
            tmp = min(array[13], array[21]);
            array[21] = max(array[13], array[21]);
            array[13] = tmp;
            tmp = min(array[14], array[22]);
            array[22] = max(array[14], array[22]);
            array[14] = tmp;
            tmp = min(array[15], array[23]);
            array[23] = max(array[15], array[23]);
            array[15] = tmp;
            tmp = min(array[24], array[32]);
            array[32] = max(array[24], array[32]);
            array[24] = tmp;
            tmp = min(array[25], array[33]);
            array[33] = max(array[25], array[33]);
            array[25] = tmp;
            tmp = min(array[26], array[34]);
            array[34] = max(array[26], array[34]);
            array[26] = tmp;
            tmp = min(array[27], array[35]);
            array[35] = max(array[27], array[35]);
            array[27] = tmp;
            tmp = min(array[28], array[36]);
            array[36] = max(array[28], array[36]);
            array[28] = tmp;
            tmp = min(array[29], array[37]);
            array[37] = max(array[29], array[37]);
            array[29] = tmp;
            tmp = min(array[30], array[38]);
            array[38] = max(array[30], array[38]);
            array[30] = tmp;
            tmp = min(array[31], array[39]);
            array[39] = max(array[31], array[39]);
            array[31] = tmp;
            tmp = min(array[40], array[48]);
            array[48] = max(array[40], array[48]);
            array[40] = tmp;
            tmp = min(array[0], array[4]);
            array[4] = max(array[0], array[4]);
            array[0] = tmp;
            tmp = min(array[1], array[5]);
            array[5] = max(array[1], array[5]);
            array[1] = tmp;
            tmp = min(array[2], array[6]);
            array[6] = max(array[2], array[6]);
            array[2] = tmp;
            tmp = min(array[3], array[7]);
            array[7] = max(array[3], array[7]);
            array[3] = tmp;
            tmp = min(array[8], array[12]);
            array[12] = max(array[8], array[12]);
            array[8] = tmp;
            tmp = min(array[9], array[13]);
            array[13] = max(array[9], array[13]);
            array[9] = tmp;
            tmp = min(array[10], array[14]);
            array[14] = max(array[10], array[14]);
            array[10] = tmp;
            tmp = min(array[11], array[15]);
            array[15] = max(array[11], array[15]);
            array[11] = tmp;
            tmp = min(array[16], array[20]);
            array[20] = max(array[16], array[20]);
            array[16] = tmp;
            tmp = min(array[17], array[21]);
            array[21] = max(array[17], array[21]);
            array[17] = tmp;
            tmp = min(array[18], array[22]);
            array[22] = max(array[18], array[22]);
            array[18] = tmp;
            tmp = min(array[19], array[23]);
            array[23] = max(array[19], array[23]);
            array[19] = tmp;
            tmp = min(array[24], array[28]);
            array[28] = max(array[24], array[28]);
            array[24] = tmp;
            tmp = min(array[25], array[29]);
            array[29] = max(array[25], array[29]);
            array[25] = tmp;
            tmp = min(array[26], array[30]);
            array[30] = max(array[26], array[30]);
            array[26] = tmp;
            tmp = min(array[27], array[31]);
            array[31] = max(array[27], array[31]);
            array[27] = tmp;
            tmp = min(array[32], array[36]);
            array[36] = max(array[32], array[36]);
            array[32] = tmp;
            tmp = min(array[33], array[37]);
            array[37] = max(array[33], array[37]);
            array[33] = tmp;
            tmp = min(array[34], array[38]);
            array[38] = max(array[34], array[38]);
            array[34] = tmp;
            tmp = min(array[35], array[39]);
            array[39] = max(array[35], array[39]);
            array[35] = tmp;
            tmp = min(array[40], array[44]);
            array[44] = max(array[40], array[44]);
            array[40] = tmp;
            tmp = min(array[41], array[45]);
            array[45] = max(array[41], array[45]);
            array[41] = tmp;
            tmp = min(array[42], array[46]);
            array[46] = max(array[42], array[46]);
            array[42] = tmp;
            tmp = min(array[43], array[47]);
            array[47] = max(array[43], array[47]);
            array[43] = tmp;
            tmp = min(array[4], array[32]);
            array[32] = max(array[4], array[32]);
            array[4] = tmp;
            tmp = min(array[5], array[33]);
            array[33] = max(array[5], array[33]);
            array[5] = tmp;
            tmp = min(array[6], array[34]);
            array[34] = max(array[6], array[34]);
            array[6] = tmp;
            tmp = min(array[7], array[35]);
            array[35] = max(array[7], array[35]);
            array[7] = tmp;
            tmp = min(array[12], array[40]);
            array[40] = max(array[12], array[40]);
            array[12] = tmp;
            tmp = min(array[13], array[41]);
            array[41] = max(array[13], array[41]);
            array[13] = tmp;
            tmp = min(array[14], array[42]);
            array[42] = max(array[14], array[42]);
            array[14] = tmp;
            tmp = min(array[15], array[43]);
            array[43] = max(array[15], array[43]);
            array[15] = tmp;
            tmp = min(array[20], array[48]);
            array[48] = max(array[20], array[48]);
            array[20] = tmp;
            tmp = min(array[4], array[16]);
            array[16] = max(array[4], array[16]);
            array[4] = tmp;
            tmp = min(array[5], array[17]);
            array[17] = max(array[5], array[17]);
            array[5] = tmp;
            tmp = min(array[6], array[18]);
            array[18] = max(array[6], array[18]);
            array[6] = tmp;
            tmp = min(array[7], array[19]);
            array[19] = max(array[7], array[19]);
            array[7] = tmp;
            tmp = min(array[12], array[24]);
            array[24] = max(array[12], array[24]);
            array[12] = tmp;
            tmp = min(array[13], array[25]);
            array[25] = max(array[13], array[25]);
            array[13] = tmp;
            tmp = min(array[14], array[26]);
            array[26] = max(array[14], array[26]);
            array[14] = tmp;
            tmp = min(array[15], array[27]);
            array[27] = max(array[15], array[27]);
            array[15] = tmp;
            tmp = min(array[20], array[32]);
            array[32] = max(array[20], array[32]);
            array[20] = tmp;
            tmp = min(array[21], array[33]);
            array[33] = max(array[21], array[33]);
            array[21] = tmp;
            tmp = min(array[22], array[34]);
            array[34] = max(array[22], array[34]);
            array[22] = tmp;
            tmp = min(array[23], array[35]);
            array[35] = max(array[23], array[35]);
            array[23] = tmp;
            tmp = min(array[28], array[40]);
            array[40] = max(array[28], array[40]);
            array[28] = tmp;
            tmp = min(array[29], array[41]);
            array[41] = max(array[29], array[41]);
            array[29] = tmp;
            tmp = min(array[30], array[42]);
            array[42] = max(array[30], array[42]);
            array[30] = tmp;
            tmp = min(array[31], array[43]);
            array[43] = max(array[31], array[43]);
            array[31] = tmp;
            tmp = min(array[36], array[48]);
            array[48] = max(array[36], array[48]);
            array[36] = tmp;
            tmp = min(array[4], array[8]);
            array[8] = max(array[4], array[8]);
            array[4] = tmp;
            tmp = min(array[5], array[9]);
            array[9] = max(array[5], array[9]);
            array[5] = tmp;
            tmp = min(array[6], array[10]);
            array[10] = max(array[6], array[10]);
            array[6] = tmp;
            tmp = min(array[7], array[11]);
            array[11] = max(array[7], array[11]);
            array[7] = tmp;
            tmp = min(array[12], array[16]);
            array[16] = max(array[12], array[16]);
            array[12] = tmp;
            tmp = min(array[13], array[17]);
            array[17] = max(array[13], array[17]);
            array[13] = tmp;
            tmp = min(array[14], array[18]);
            array[18] = max(array[14], array[18]);
            array[14] = tmp;
            tmp = min(array[15], array[19]);
            array[19] = max(array[15], array[19]);
            array[15] = tmp;
            tmp = min(array[20], array[24]);
            array[24] = max(array[20], array[24]);
            array[20] = tmp;
            tmp = min(array[21], array[25]);
            array[25] = max(array[21], array[25]);
            array[21] = tmp;
            tmp = min(array[22], array[26]);
            array[26] = max(array[22], array[26]);
            array[22] = tmp;
            tmp = min(array[23], array[27]);
            array[27] = max(array[23], array[27]);
            array[23] = tmp;
            tmp = min(array[28], array[32]);
            array[32] = max(array[28], array[32]);
            array[28] = tmp;
            tmp = min(array[29], array[33]);
            array[33] = max(array[29], array[33]);
            array[29] = tmp;
            tmp = min(array[30], array[34]);
            array[34] = max(array[30], array[34]);
            array[30] = tmp;
            tmp = min(array[31], array[35]);
            array[35] = max(array[31], array[35]);
            array[31] = tmp;
            tmp = min(array[36], array[40]);
            array[40] = max(array[36], array[40]);
            array[36] = tmp;
            return min(array[37], array[41]);
        }

        [MethodImpl(MethodImplOptions.NoInlining)]
        static T step3<T>(T tmp, ArrayView<T> array)
             where T : unmanaged, INumber<T>
        {
            array[41] = max(array[37], array[41]);
            array[37] = tmp;
            tmp = min(array[38], array[42]);
            array[42] = max(array[38], array[42]);
            array[38] = tmp;
            tmp = min(array[39], array[43]);
            array[43] = max(array[39], array[43]);
            array[39] = tmp;
            tmp = min(array[44], array[48]);
            array[48] = max(array[44], array[48]);
            array[44] = tmp;
            tmp = min(array[0], array[2]);
            array[2] = max(array[0], array[2]);
            array[0] = tmp;
            tmp = min(array[1], array[3]);
            array[3] = max(array[1], array[3]);
            array[1] = tmp;
            tmp = min(array[4], array[6]);
            array[6] = max(array[4], array[6]);
            array[4] = tmp;
            tmp = min(array[5], array[7]);
            array[7] = max(array[5], array[7]);
            array[5] = tmp;
            tmp = min(array[8], array[10]);
            array[10] = max(array[8], array[10]);
            array[8] = tmp;
            tmp = min(array[9], array[11]);
            array[11] = max(array[9], array[11]);
            array[9] = tmp;
            tmp = min(array[12], array[14]);
            array[14] = max(array[12], array[14]);
            array[12] = tmp;
            tmp = min(array[13], array[15]);
            array[15] = max(array[13], array[15]);
            array[13] = tmp;
            tmp = min(array[16], array[18]);
            array[18] = max(array[16], array[18]);
            array[16] = tmp;
            tmp = min(array[17], array[19]);
            array[19] = max(array[17], array[19]);
            array[17] = tmp;
            tmp = min(array[20], array[22]);
            array[22] = max(array[20], array[22]);
            array[20] = tmp;
            tmp = min(array[21], array[23]);
            array[23] = max(array[21], array[23]);
            array[21] = tmp;
            tmp = min(array[24], array[26]);
            array[26] = max(array[24], array[26]);
            array[24] = tmp;
            tmp = min(array[25], array[27]);
            array[27] = max(array[25], array[27]);
            array[25] = tmp;
            tmp = min(array[28], array[30]);
            array[30] = max(array[28], array[30]);
            array[28] = tmp;
            tmp = min(array[29], array[31]);
            array[31] = max(array[29], array[31]);
            array[29] = tmp;
            tmp = min(array[32], array[34]);
            array[34] = max(array[32], array[34]);
            array[32] = tmp;
            tmp = min(array[33], array[35]);
            array[35] = max(array[33], array[35]);
            array[33] = tmp;
            tmp = min(array[36], array[38]);
            array[38] = max(array[36], array[38]);
            array[36] = tmp;
            tmp = min(array[37], array[39]);
            array[39] = max(array[37], array[39]);
            array[37] = tmp;
            tmp = min(array[40], array[42]);
            array[42] = max(array[40], array[42]);
            array[40] = tmp;
            tmp = min(array[41], array[43]);
            array[43] = max(array[41], array[43]);
            array[41] = tmp;
            tmp = min(array[44], array[46]);
            array[46] = max(array[44], array[46]);
            array[44] = tmp;
            tmp = min(array[45], array[47]);
            array[47] = max(array[45], array[47]);
            array[45] = tmp;
            tmp = min(array[2], array[32]);
            array[32] = max(array[2], array[32]);
            array[2] = tmp;
            tmp = min(array[3], array[33]);
            array[33] = max(array[3], array[33]);
            array[3] = tmp;
            tmp = min(array[6], array[36]);
            array[36] = max(array[6], array[36]);
            array[6] = tmp;
            tmp = min(array[7], array[37]);
            array[37] = max(array[7], array[37]);
            array[7] = tmp;
            tmp = min(array[10], array[40]);
            array[40] = max(array[10], array[40]);
            array[10] = tmp;
            tmp = min(array[11], array[41]);
            array[41] = max(array[11], array[41]);
            array[11] = tmp;
            tmp = min(array[14], array[44]);
            array[44] = max(array[14], array[44]);
            array[14] = tmp;
            tmp = min(array[15], array[45]);
            array[45] = max(array[15], array[45]);
            array[15] = tmp;
            tmp = min(array[18], array[48]);
            array[48] = max(array[18], array[48]);
            array[18] = tmp;
            tmp = min(array[2], array[16]);
            array[16] = max(array[2], array[16]);
            array[2] = tmp;
            tmp = min(array[3], array[17]);
            array[17] = max(array[3], array[17]);
            array[3] = tmp;
            tmp = min(array[6], array[20]);
            array[20] = max(array[6], array[20]);
            array[6] = tmp;
            tmp = min(array[7], array[21]);
            array[21] = max(array[7], array[21]);
            array[7] = tmp;
            tmp = min(array[10], array[24]);
            array[24] = max(array[10], array[24]);
            array[10] = tmp;
            tmp = min(array[11], array[25]);
            array[25] = max(array[11], array[25]);
            array[11] = tmp;
            tmp = min(array[14], array[28]);
            array[28] = max(array[14], array[28]);
            array[14] = tmp;
            tmp = min(array[15], array[29]);
            array[29] = max(array[15], array[29]);
            array[15] = tmp;
            tmp = min(array[18], array[32]);
            array[32] = max(array[18], array[32]);
            array[18] = tmp;
            tmp = min(array[19], array[33]);
            array[33] = max(array[19], array[33]);
            array[19] = tmp;
            tmp = min(array[22], array[36]);
            array[36] = max(array[22], array[36]);
            array[22] = tmp;
            tmp = min(array[23], array[37]);
            array[37] = max(array[23], array[37]);
            array[23] = tmp;
            tmp = min(array[26], array[40]);
            array[40] = max(array[26], array[40]);
            array[26] = tmp;
            tmp = min(array[27], array[41]);
            array[41] = max(array[27], array[41]);
            array[27] = tmp;
            tmp = min(array[30], array[44]);
            array[44] = max(array[30], array[44]);
            array[30] = tmp;
            tmp = min(array[31], array[45]);
            array[45] = max(array[31], array[45]);
            array[31] = tmp;
            tmp = min(array[34], array[48]);
            array[48] = max(array[34], array[48]);
            array[34] = tmp;
            tmp = min(array[2], array[8]);
            array[8] = max(array[2], array[8]);
            array[2] = tmp;
            tmp = min(array[3], array[9]);
            array[9] = max(array[3], array[9]);
            array[3] = tmp;
            tmp = min(array[6], array[12]);
            array[12] = max(array[6], array[12]);
            array[6] = tmp;
            tmp = min(array[7], array[13]);
            array[13] = max(array[7], array[13]);
            array[7] = tmp;
            tmp = min(array[10], array[16]);
            array[16] = max(array[10], array[16]);
            array[10] = tmp;
            tmp = min(array[11], array[17]);
            array[17] = max(array[11], array[17]);
            array[11] = tmp;
            tmp = min(array[14], array[20]);
            array[20] = max(array[14], array[20]);
            array[14] = tmp;
            tmp = min(array[15], array[21]);
            array[21] = max(array[15], array[21]);
            array[15] = tmp;
            tmp = min(array[18], array[24]);
            array[24] = max(array[18], array[24]);
            array[18] = tmp;
            tmp = min(array[19], array[25]);
            array[25] = max(array[19], array[25]);
            array[19] = tmp;
            tmp = min(array[22], array[28]);
            array[28] = max(array[22], array[28]);
            array[22] = tmp;
            tmp = min(array[23], array[29]);
            array[29] = max(array[23], array[29]);
            array[23] = tmp;
            tmp = min(array[26], array[32]);
            array[32] = max(array[26], array[32]);
            array[26] = tmp;
            tmp = min(array[27], array[33]);
            array[33] = max(array[27], array[33]);
            array[27] = tmp;
            tmp = min(array[30], array[36]);
            array[36] = max(array[30], array[36]);
            array[30] = tmp;
            tmp = min(array[31], array[37]);
            array[37] = max(array[31], array[37]);
            array[31] = tmp;
            tmp = min(array[34], array[40]);
            array[40] = max(array[34], array[40]);
            array[34] = tmp;
            tmp = min(array[35], array[41]);
            array[41] = max(array[35], array[41]);
            array[35] = tmp;
            tmp = min(array[38], array[44]);
            array[44] = max(array[38], array[44]);
            array[38] = tmp;
            tmp = min(array[39], array[45]);
            array[45] = max(array[39], array[45]);
            array[39] = tmp;
            tmp = min(array[42], array[48]);
            array[48] = max(array[42], array[48]);
            array[42] = tmp;
            tmp = min(array[2], array[4]);
            array[4] = max(array[2], array[4]);
            array[2] = tmp;
            tmp = min(array[3], array[5]);
            array[5] = max(array[3], array[5]);
            array[3] = tmp;
            tmp = min(array[6], array[8]);
            array[8] = max(array[6], array[8]);
            array[6] = tmp;
            tmp = min(array[7], array[9]);
            array[9] = max(array[7], array[9]);
            array[7] = tmp;
            tmp = min(array[10], array[12]);
            array[12] = max(array[10], array[12]);
            array[10] = tmp;
            tmp = min(array[11], array[13]);
            array[13] = max(array[11], array[13]);
            array[11] = tmp;
            tmp = min(array[14], array[16]);
            array[16] = max(array[14], array[16]);
            array[14] = tmp;
            tmp = min(array[15], array[17]);
            array[17] = max(array[15], array[17]);
            array[15] = tmp;
            tmp = min(array[18], array[20]);
            array[20] = max(array[18], array[20]);
            array[18] = tmp;
            tmp = min(array[19], array[21]);
            array[21] = max(array[19], array[21]);
            array[19] = tmp;
            tmp = min(array[22], array[24]);
            array[24] = max(array[22], array[24]);
            array[22] = tmp;
            tmp = min(array[23], array[25]);
            array[25] = max(array[23], array[25]);
            array[23] = tmp;
            tmp = min(array[26], array[28]);
            array[28] = max(array[26], array[28]);
            array[26] = tmp;
            tmp = min(array[27], array[29]);
            array[29] = max(array[27], array[29]);
            array[27] = tmp;
            tmp = min(array[30], array[32]);
            array[32] = max(array[30], array[32]);
            array[30] = tmp;
            tmp = min(array[31], array[33]);
            array[33] = max(array[31], array[33]);
            array[31] = tmp;
            tmp = min(array[34], array[36]);
            array[36] = max(array[34], array[36]);
            array[34] = tmp;
            tmp = min(array[35], array[37]);
            array[37] = max(array[35], array[37]);
            array[35] = tmp;
            tmp = min(array[38], array[40]);
            array[40] = max(array[38], array[40]);
            array[38] = tmp;
            tmp = min(array[39], array[41]);
            array[41] = max(array[39], array[41]);
            array[39] = tmp;
            tmp = min(array[42], array[44]);
            array[44] = max(array[42], array[44]);
            array[42] = tmp;
            tmp = min(array[43], array[45]);
            array[45] = max(array[43], array[45]);
            array[43] = tmp;
            tmp = min(array[46], array[48]);
            array[48] = max(array[46], array[48]);
            array[46] = tmp;
            array[1] = max(array[0], array[1]);
            array[3] = max(array[2], array[3]);
            array[5] = max(array[4], array[5]);
            array[7] = max(array[6], array[7]);
            array[9] = max(array[8], array[9]);
            array[11] = max(array[10], array[11]);
            array[13] = max(array[12], array[13]);
            array[15] = max(array[14], array[15]);
            array[17] = max(array[16], array[17]);
            array[19] = max(array[18], array[19]);
            array[21] = max(array[20], array[21]);
            array[23] = max(array[22], array[23]);
            array[24] = min(array[24], array[25]);
            array[26] = min(array[26], array[27]);
            array[28] = min(array[28], array[29]);
            array[30] = min(array[30], array[31]);
            array[32] = min(array[32], array[33]);
            array[34] = min(array[34], array[35]);
            array[36] = min(array[36], array[37]);
            array[38] = min(array[38], array[39]);
            array[40] = min(array[40], array[41]);
            array[42] = min(array[42], array[43]);
            array[44] = min(array[44], array[45]);
            array[46] = min(array[46], array[47]);
            array[32] = max(array[1], array[32]);
            array[34] = max(array[3], array[34]);
            array[36] = max(array[5], array[36]);
            array[38] = max(array[7], array[38]);
            array[9] = min(array[9], array[40]);
            array[11] = min(array[11], array[42]);
            array[13] = min(array[13], array[44]);
            array[15] = min(array[15], array[46]);
            array[17] = min(array[17], array[48]);
            array[24] = max(array[9], array[24]);
            array[26] = max(array[11], array[26]);
            array[28] = max(array[13], array[28]);
            array[30] = max(array[15], array[30]);
            array[17] = min(array[17], array[32]);
            array[19] = min(array[19], array[34]);
            array[21] = min(array[21], array[36]);
            array[23] = min(array[23], array[38]);
            array[24] = max(array[17], array[24]);
            array[26] = max(array[19], array[26]);
            array[21] = min(array[21], array[28]);
            array[23] = min(array[23], array[30]);
            array[24] = max(array[21], array[24]);
            array[23] = min(array[23], array[26]);
            return max(array[23], array[24]);
        }
    }
}
